{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/oche/Projects/Targetometer/Client/context/AuthContext.js\";\nimport { createContext, useContext, useState } from \"react\";\nimport { useRouter } from 'next/router';\nimport axios from \"axios\";\nconst AuthContextDefaultValues = {\n  user: []\n};\nconst AuthContext = /*#__PURE__*/createContext(AuthContextDefaultValues);\nconst BASE_URL = 'https://targetometer-server.herokuapp.com/api/v1/auth';\nexport function useAuth() {\n  return useContext(AuthContext);\n}\nexport function AuthProvider({\n  children\n}) {\n  const {\n    0: user,\n    1: setUser\n  } = useState([]);\n  const {\n    0: single_route,\n    1: setSingle_route\n  } = useState([]);\n  const {\n    0: serverMessage,\n    1: setServerMessage\n  } = useState('');\n\n  const sign_up = async (email, password, firstname, lastname, confirmpassword) => {\n    try {\n      const response = await axios.post(`${BASE_URL}/createaccount`, {\n        firstname: firstname,\n        lastname: lastname,\n        email: email,\n        password,\n        password\n      });\n      setServerMessage(response.message);\n    } catch (err) {\n      setServerMessage(err.message);\n    }\n  };\n\n  const sign_in = async (email, password) => {\n    try {\n      const response = await axios.post(`${BASE_URL}/signin`, {\n        email: email,\n        password,\n        password\n      });\n      setServerMessage(response.message);\n    } catch (err) {\n      setServerMessage(err.message);\n    }\n  }; // const get_single_route = (routeId) =>{\n  //     console.log(routeId)\n  //     let url = `https://backend.cruise9ja.com/api/v1/routes/${abuwala1}`\n  //     fetch(url)\n  //       .then(response => response.json())\n  //       .then(data => {\n  //           console.log(data)\n  //           setSingle_route([...data.result])\n  //           console.log(single_route)\n  //       })\n  //       .catch(err => {\n  //           setErrorMessage(err.message)\n  //         })\n  //     // const router = useRouter()\n  //     // router.push('/searchresults')\n  // }\n\n\n  const value = {\n    user,\n    sign_in,\n    sign_up\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}","map":{"version":3,"sources":["/Users/oche/Projects/Targetometer/Client/context/AuthContext.js"],"names":["createContext","useContext","useState","useRouter","axios","AuthContextDefaultValues","user","AuthContext","BASE_URL","useAuth","AuthProvider","children","setUser","single_route","setSingle_route","serverMessage","setServerMessage","sign_up","email","password","firstname","lastname","confirmpassword","response","post","message","err","sign_in","value"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,QAApC,QAAoD,OAApD;AACA,SAAQC,SAAR,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,MAAMC,wBAAwB,GAAC;AAC3BC,EAAAA,IAAI,EAAC;AADsB,CAA/B;AAKA,MAAMC,WAAW,gBAAGP,aAAa,CAACK,wBAAD,CAAjC;AAEA,MAAMG,QAAQ,GAAG,uDAAjB;AACA,OAAO,SAASC,OAAT,GAAkB;AACrB,SAAOR,UAAU,CAACM,WAAD,CAAjB;AACH;AAED,OAAO,SAASG,YAAT,CAAsB;AAACC,EAAAA;AAAD,CAAtB,EAAiC;AACpC,QAAM;AAAA,OAACL,IAAD;AAAA,OAAOM;AAAP,MAAkBV,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM;AAAA,OAACW,YAAD;AAAA,OAAeC;AAAf,MAAkCZ,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM;AAAA,OAACa,aAAD;AAAA,OAAgBC;AAAhB,MAAoCd,QAAQ,CAAC,EAAD,CAAlD;;AACA,QAAMe,OAAO,GAAG,OAAOC,KAAP,EAAcC,QAAd,EAAwBC,SAAxB,EAAmCC,QAAnC,EAA6CC,eAA7C,KAAgE;AAC5E,QAAG;AACC,YAAMC,QAAQ,GAAG,MAAMnB,KAAK,CAACoB,IAAN,CACpB,GAAEhB,QAAS,gBADS,EAErB;AACEY,QAAAA,SAAS,EAACA,SADZ;AAEEC,QAAAA,QAAQ,EAAEA,QAFZ;AAGEH,QAAAA,KAAK,EAAEA,KAHT;AAIEC,QAAAA,QAJF;AAIYA,QAAAA;AAJZ,OAFqB,CAAvB;AAQAH,MAAAA,gBAAgB,CAACO,QAAQ,CAACE,OAAV,CAAhB;AACD,KAVH,CAUG,OAAMC,GAAN,EAAU;AACTV,MAAAA,gBAAgB,CAACU,GAAG,CAACD,OAAL,CAAhB;AACD;AACN,GAdD;;AAeA,QAAME,OAAO,GAAG,OAAMT,KAAN,EAAaC,QAAb,KAAyB;AACrC,QAAG;AACC,YAAMI,QAAQ,GAAG,MAAMnB,KAAK,CAACoB,IAAN,CACpB,GAAEhB,QAAS,SADS,EAErB;AACEU,QAAAA,KAAK,EAAEA,KADT;AAEEC,QAAAA,QAFF;AAEYA,QAAAA;AAFZ,OAFqB,CAAvB;AAMAH,MAAAA,gBAAgB,CAACO,QAAQ,CAACE,OAAV,CAAhB;AAED,KATH,CASG,OAAMC,GAAN,EAAU;AACTV,MAAAA,gBAAgB,CAACU,GAAG,CAACD,OAAL,CAAhB;AACD;AAEN,GAdD,CAnBoC,CAmCpC;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AAEA,QAAMG,KAAK,GAAG;AACVtB,IAAAA,IADU;AAEVqB,IAAAA,OAFU;AAGVV,IAAAA;AAHU,GAAd;AAMA,sBACI;AAAA,2BACI,QAAC,WAAD,CAAa,QAAb;AAAsB,MAAA,KAAK,EAAEW,KAA7B;AAAA,gBACKjB;AADL;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AAOH","sourcesContent":["import { createContext, useContext, useState } from \"react\";\nimport {useRouter} from 'next/router'\nimport axios from \"axios\";\nconst AuthContextDefaultValues={\n    user:[],\n    \n}\n\nconst AuthContext = createContext(AuthContextDefaultValues)\n\nconst BASE_URL = 'https://targetometer-server.herokuapp.com/api/v1/auth'\nexport function useAuth(){\n    return useContext(AuthContext)\n}\n\nexport function AuthProvider({children}){\n    const [user, setUser] = useState([])\n    const [single_route, setSingle_route] = useState([])\n    const [serverMessage, setServerMessage] = useState('')\n    const sign_up = async (email, password, firstname, lastname, confirmpassword) =>{\n        try{\n            const response = await axios.post(\n              `${BASE_URL}/createaccount`,\n              {\n                firstname:firstname,\n                lastname: lastname,\n                email: email,\n                password, password,\n              })\n            setServerMessage(response.message)\n          }catch(err){\n            setServerMessage(err.message)\n          }\n    }\n    const sign_in = async(email, password) =>{\n        try{\n            const response = await axios.post(\n              `${BASE_URL}/signin`,\n              {\n                email: email,\n                password, password,\n              })\n            setServerMessage(response.message)\n            \n          }catch(err){\n            setServerMessage(err.message)\n          } \n        \n    }\n\n    // const get_single_route = (routeId) =>{\n\n    //     console.log(routeId)\n\n    //     let url = `https://backend.cruise9ja.com/api/v1/routes/${abuwala1}`\n    //     fetch(url)\n    //       .then(response => response.json())\n    //       .then(data => {\n    //           console.log(data)\n    //           setSingle_route([...data.result])\n    //           console.log(single_route)\n    //       })\n    //       .catch(err => {\n    //           setErrorMessage(err.message)\n              \n    //         })\n    //     // const router = useRouter()\n    //     // router.push('/searchresults')\n    // }\n\n    const value = {\n        user,\n        sign_in,\n        sign_up\n    }\n\n    return (\n        <>\n            <AuthContext.Provider value={value}>\n                {children}\n            </AuthContext.Provider>\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}