{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _toConsumableArray from \"/Users/oche/Projects/Targetometer/Client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"/Users/oche/Projects/Targetometer/Client/context/ProjectContext.js\",\n    _s = $RefreshSig$(),\n    _this = this,\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useState } from \"react\";\nimport { GiToken } from \"react-icons/gi\";\nimport { useAuth } from \"./AuthContext\";\nvar ProjectContextDefaultValues = /*#__PURE__*/createContext({\n  projects: [],\n  singleproject: []\n});\n\nvar _useAuth = useAuth(),\n    user = _useAuth.user;\n\nvar ProjectContext = /*#__PURE__*/createContext(ProjectContextDefaultValues);\n_c = ProjectContext;\nvar BASE_URL = 'https://targetometer-server.herokuapp.com/api/v1/users';\nexport function useProject() {\n  _s();\n\n  return useContext(ProjectContext);\n}\n\n_s(useProject, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport var ProjectProvider = function ProjectProvider(_ref) {\n  _s2();\n\n  var children = _ref.children;\n\n  var _useState = useState([]),\n      project = _useState[0],\n      setProject = _useState[1];\n\n  var _useState2 = useState([]),\n      singleproject = _useState2[0],\n      setSingleProject = _useState2[1];\n\n  var _useState3 = useState(''),\n      serverMessage = _useState3[0],\n      setServerMessage = _useState3[1];\n\n  var get_all_projects = function get_all_projects() {\n    fetch(\"\".concat(BASE_URL, \"/\").concat(user.userID, \"/projects\"), {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer' + token // 'Content-Type': 'application/x-www-form-urlencoded',\n\n      }\n    }).then(function (response) {\n      response.json();\n    }).then(function (result) {\n      console.log(result);\n      setProject.apply(void 0, _toConsumableArray(result.data));\n    })[\"catch\"](function (error) {\n      setServerMessage(error.message);\n    });\n  };\n\n  var get_single_project = function get_single_project(projectID) {\n    alert(projectID);\n  };\n\n  var create_single_project = function create_single_project(title, description, startdate, enddate) {\n    var token = localStorage.getItem('token');\n    fetch(\"\".concat(BASE_URL, \"/\").concat(user.userID, \"/projects\"), {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer' + token // 'Content-Type': 'application/x-www-form-urlencoded',\n\n      },\n      body: JSON.stringify({\n        title: title,\n        description: description,\n        startdate: startdate,\n        enddate: enddate\n      })\n    }).then(function () {\n      setServerMessage(\"Project Created Succedfully\");\n    })[\"catch\"](function (error) {\n      setServerMessage(error.message);\n    });\n  };\n\n  var value = {\n    project: project,\n    singleproject: singleproject,\n    serverMessage: serverMessage,\n    get_all_projects: get_all_projects,\n    get_single_project: get_single_project,\n    create_single_project: create_single_project\n  };\n  return /*#__PURE__*/_jsxDEV(ProjectContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 9\n  }, _this);\n};\n\n_s2(ProjectProvider, \"hElFQEAQxYAZC4VszsiSYeX+FAs=\");\n\n_c2 = ProjectProvider;\nexport default ProjectContext;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ProjectContext\");\n$RefreshReg$(_c2, \"ProjectProvider\");","map":{"version":3,"sources":["/Users/oche/Projects/Targetometer/Client/context/ProjectContext.js"],"names":["createContext","useContext","useState","GiToken","useAuth","ProjectContextDefaultValues","projects","singleproject","user","ProjectContext","BASE_URL","useProject","ProjectProvider","children","project","setProject","setSingleProject","serverMessage","setServerMessage","get_all_projects","fetch","userID","method","headers","token","then","response","json","result","console","log","data","error","message","get_single_project","projectID","alert","create_single_project","title","description","startdate","enddate","localStorage","getItem","body","JSON","stringify","value"],"mappings":"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","sourcesContent":["import {  createContext, useContext, useState } from \"react\";\nimport { GiToken } from \"react-icons/gi\";\nimport { useAuth } from \"./AuthContext\";\n\nconst ProjectContextDefaultValues = createContext({\n    projects: [],\n    singleproject: [],\n   \n})\nconst {user} = useAuth()\nconst ProjectContext = createContext(ProjectContextDefaultValues)\n\nconst BASE_URL = 'https://targetometer-server.herokuapp.com/api/v1/users'\n\nexport function useProject(){\n    return useContext(ProjectContext)\n}\n\nexport const ProjectProvider = ({children}) =>{\n    const [project, setProject] = useState([])\n    const [singleproject, setSingleProject] = useState([])\n    const [serverMessage, setServerMessage] = useState('')\n\n    const get_all_projects = () =>{\n        fetch(`${BASE_URL}/${user.userID}/projects`, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer'  + token,\n               // 'Content-Type': 'application/x-www-form-urlencoded',\n              }\n        })\n        .then((response)=>{response.json()})\n        .then(result => {\n            console.log(result)\n            setProject(...result.data)\n        })\n        .catch(error => {\n            setServerMessage(error.message)\n        })\n    }\n\n    const get_single_project =(projectID)=>{\n        alert(projectID)\n    }\n\n    const create_single_project = (title, description, startdate, enddate) =>{\n        const token = localStorage.getItem('token')\n        \n        fetch(`${BASE_URL}/${user.userID}/projects`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer'  + token,\n                // 'Content-Type': 'application/x-www-form-urlencoded',\n              },\n            body: JSON.stringify({\n                \n                title: title,\n                description:description, \n                startdate: startdate,\n                enddate: enddate\n            })\n        })\n        .then(()=>{\n            setServerMessage(\"Project Created Succedfully\")\n        })\n        .catch(error => {\n            setServerMessage(error.message)\n        })\n    }\n\n    const value = {\n        project,\n        singleproject,\n        serverMessage,\n        get_all_projects,\n        get_single_project,\n        create_single_project\n    }\n\n    return (\n        <ProjectContext.Provider value={value}>\n            {children}\n        </ProjectContext.Provider>\n    )\n}\n\nexport default ProjectContext"]},"metadata":{},"sourceType":"module"}